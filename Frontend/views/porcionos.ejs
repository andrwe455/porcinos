<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Porcinos</title>
</head>
<body>
  <h1>Listado de Porcinos</h1>
  <% if (porcinos.length > 0) { %>
    <table>
      <thead>
        <tr>
          <th>Identificación</th>
          <th>Cliente</th>
          <th>Acciones</th>
        </tr>
      </thead>
      <tbody>
        <% for (const porcino of porcinos) { %>
          <tr>
            <td><%= porcino.identificacion %></td>
            <td><%= porcino.cliente.Nombre %></td> <td>
              <a href="/porcino/<%= porcino.identificacion %>">Ver</a>
              <a href="/porcino/<%= porcino.identificacion %>/editar">Editar</a>
              <a href="#" onclick="deletePorcino('<%= porcino.identificacion %>')">Eliminar</a>
            </td>
          </tr>
        <% } %>
      </tbody>
    </table>
  <% } else { %>
    <p>No hay porcinos registrados.</p>
  <% } %>
  <script>
    function deletePorcino(identificacion) {
      if (confirm("¿Está seguro que desea eliminar el porcino?")) {
        // Implement fetch API call to delete porcino with 'identificacion'
        fetch(`/porcino/${identificacion}`, { method: 'DELETE' })
          .then(response => response.json())
          .then(data => {
            if (data.message === 'Porcino eliminado') {
              // Reload the page after successful deletion
              window.location.reload();
            } else {
              alert('Error al eliminar el porcino');
            }
          })
          .catch(error => console.error(error));
      }
    }
  </script>
</body>
</html>